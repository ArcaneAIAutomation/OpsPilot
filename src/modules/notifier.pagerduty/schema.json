{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "routingKey": {
      "type": "string",
      "description": "PagerDuty Events API v2 integration/routing key."
    },
    "apiUrl": {
      "type": "string",
      "default": "https://events.pagerduty.com/v2/enqueue",
      "description": "PagerDuty Events API v2 endpoint."
    },
    "events": {
      "type": "array",
      "items": { "type": "string" },
      "default": ["incident.created", "action.executed"],
      "description": "Event types to forward to PagerDuty."
    },
    "minSeverity": {
      "type": "string",
      "enum": ["info", "warning", "critical"],
      "default": "critical",
      "description": "Minimum incident severity to trigger PagerDuty."
    },
    "dedupKeyPrefix": {
      "type": "string",
      "default": "opspilot",
      "description": "Prefix for PagerDuty dedup keys."
    },
    "source": {
      "type": "string",
      "default": "OpsPilot",
      "description": "Source field in PagerDuty events."
    },
    "component": {
      "type": "string",
      "description": "Component field in PagerDuty events."
    },
    "group": {
      "type": "string",
      "description": "Group field in PagerDuty events."
    },
    "timeoutMs": {
      "type": "integer",
      "minimum": 1000,
      "default": 10000,
      "description": "HTTP request timeout in milliseconds."
    },
    "rateLimitPerMinute": {
      "type": "integer",
      "minimum": 1,
      "default": 20,
      "description": "Maximum PagerDuty events per minute."
    }
  },
  "required": ["routingKey"],
  "additionalProperties": false
}
