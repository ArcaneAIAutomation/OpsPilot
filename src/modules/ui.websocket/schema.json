{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "ui.websocket configuration",
  "type": "object",
  "properties": {
    "enabled": {
      "type": "boolean",
      "default": true
    },
    "port": {
      "type": "integer",
      "minimum": 1,
      "maximum": 65535,
      "default": 3001,
      "description": "Port for the WebSocket server."
    },
    "host": {
      "type": "string",
      "default": "0.0.0.0",
      "description": "Host to bind the WebSocket server to."
    },
    "heartbeatIntervalMs": {
      "type": "integer",
      "minimum": 1000,
      "default": 30000,
      "description": "Interval in ms between heartbeat pings to detect dead connections."
    },
    "maxClients": {
      "type": "integer",
      "minimum": 1,
      "default": 100,
      "description": "Maximum number of concurrent WebSocket connections."
    },
    "subscribableEvents": {
      "type": "array",
      "items": { "type": "string" },
      "default": [
        "incident.created",
        "incident.updated",
        "enrichment.completed",
        "action.proposed",
        "action.approved",
        "action.executed",
        "log.ingested"
      ],
      "description": "Event types that clients can subscribe to."
    }
  },
  "additionalProperties": false
}
